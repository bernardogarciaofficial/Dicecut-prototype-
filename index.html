<div id="video-tracks"></div>

<!-- The following section will dynamically generate video tracks and add file upload functionality -->
<script>
  // Dynamically create video tracks with upload functionality
  document.addEventListener('DOMContentLoaded', function () {
    const videoTracksContainer = document.getElementById('video-tracks');
    
    [...Array(10)].forEach((_, i) => {
      const trackDiv = document.createElement('div');
      trackDiv.classList.add('video-track');
      trackDiv.innerHTML = `
        <h3>Video Track ${i + 1}</h3>
        <button class="record-btn">🎥 Record</button>
        <button class="upload-btn">📁 Upload</button>
        <input type="file" class="upload-input" accept="video/*" style="display:none">
        <video class="preview" controls></video>
        <div class="spinner"></div>
        <button class="delete-btn">❌ Delete</button>
      `;
      
      const uploadBtn = trackDiv.querySelector('.upload-btn');
      const uploadInput = trackDiv.querySelector('.upload-input');
      const videoPreview = trackDiv.querySelector('.preview');

      // When the Upload button is clicked, trigger the file input
      uploadBtn.addEventListener('click', () => uploadInput.click());

      // When a file is selected, display the video preview
      uploadInput.addEventListener('change', function() {
        const file = uploadInput.files[0];
        if (file) {
          const videoURL = URL.createObjectURL(file);
          videoPreview.src = videoURL;
          videoPreview.style.display = 'block';
        }
      });

      // Handle delete button (Remove the video track from DOM)
      const deleteBtn = trackDiv.querySelector('.delete-btn');
      deleteBtn.addEventListener('click', () => trackDiv.remove());

      // Append the track to the video-tracks container
      videoTracksContainer.appendChild(trackDiv);
    });
  });
</script>
